<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.css" />
	<script src="http://maps.google.com/maps/api/js?sensor=true" type="text/javascript"></script>
	<script src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.js"></script>
	<script src="http://jquery-ui-map.googlecode.com/svn/trunk/ui/min/jquery.ui.map.full.min.js" type="text/javascript"></script>
</head>
<body>
	<div data-role="page" data-theme="a">
		<div data-role="header" data-position="inline">
			<h1>Map Test</h1>
		</div>
		<div data-role="content" data-theme="a">
			<div id="map_canvas" style="margin:0 auto; width:500px; height:400px"></div>
		</div>
	</div>
	<script type="text/javascript">
		//Lat and long to center map on
		var latLng = new google.maps.LatLng(42, -102);

		//Options for initializing map
		var myOptions = {
		  zoom: 3,
		  center: latLng,
		  mapTypeId: google.maps.MapTypeId.ROADMAP
		}

		//Initialize map in div with id map_canvas
		$('#map_canvas').gmap(myOptions);

		//Load custom map
		$('#map_canvas').gmap(
			'loadKML', //Call loadKML function
			'custom_map', //Name custom map to reference it later
			'https://maps.google.com/maps/ms?msid=213662459543417426218.0004c50cf00943b0cf713&msa=0&ll=38.514527,-100.546875&spn=0.004491,0.009645&output=kml', //This is the link to my custom map with "&output=kml" appended to it
			{'preserveViewport': true} //KML options. preserveViewPort prevents the map from changing position/zoom
		);
	</script>
</body>
</html>